<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-07-17 Fri 08:04 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A small C++ linear algebra library</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="picaud" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css"> blockquote {background:#EEEEEE; padding: 3px 13px}    </style>
<style type="text/css"> pre {background:#EEEEEE; padding: 3px 13px}    </style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">A small C++ linear algebra library</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org1a0e2ed">1. What is it?</a></li>
<li><a href="#orgf7ddaf9">2. Examples</a>
<ul>
<li><a href="#orgb278a5c">2.1. Vector construction</a>
<ul>
<li><a href="#org7d06568">2.1.1. Some extra "constructors"</a></li>
</ul>
</li>
<li><a href="#org4187a60">2.2. View from lower/upper bounds</a></li>
<li><a href="#org746856d">2.3. Matrix views</a></li>
<li><a href="#org6622706">2.4. Creating your own matrix type specialization</a></li>
<li><a href="#org6600370">2.5. <span class="todo TODO">TODO</span> Generic View</a></li>
<li><a href="#org4610cd4">2.6. Conjugate gradients</a></li>
<li><a href="#orga0cc5a5">2.7. Direct call to Lapack</a></li>
</ul>
</li>
<li><a href="#orgb7d682a">3. Doc (Under construction)</a>
<ul>
<li><a href="#org1c19691">3.1. Types</a>
<ul>
<li><a href="#orgc62a4b4">3.1.1. Matrix types</a></li>
</ul>
</li>
<li><a href="#org14574a9">3.2. Meta-Programming</a>
<ul>
<li><a href="#orgc3077af">3.2.1. Some size utils</a></li>
<li><a href="#org954ade9">3.2.2. Some generic matrix type predicates</a></li>
</ul>
</li>
<li><a href="#org1d5d887">3.3. Functions</a>
<ul>
<li><a href="#org7c36b46">3.3.1. Aliasing</a></li>
<li><a href="#org381e2a6">3.3.2. Same mathematical object</a></li>
<li><a href="#orga1d6344">3.3.3. Similar</a></li>
<li><a href="#orgcc6bb79">3.3.4. Copy</a></li>
<li><a href="#org2b27d05">3.3.5. lower/upper bound</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org5c310ea">4. FAQ</a>
<ul>
<li><a href="#org4be03e6">4.1. Resizable vector/matrix ?</a></li>
<li><a href="#org0b6c96b">4.2. Expression Template</a></li>
<li><a href="#orgea6fa12">4.3. Tiny objects &amp; intrinsics</a></li>
</ul>
</li>
</ul>
</div>
</div>

<p>
<a href="index.html"><b>HOME</b></a> 
</p>

<div id="outline-container-org1a0e2ed" class="outline-2">
<h2 id="org1a0e2ed"><span class="section-number-2">1</span> What is it?</h2>
<div class="outline-text-2" id="text-1">
<p>
This is a light weight Linear Algebra C++17 library I am currently developing for my own stuff.
</p>

<p>
Early development stage <b>-&gt; Do not use it right now!</b> 
</p>

<p>
The goals are:
</p>
<ul class="org-ul">
<li>a good compromise between performance and library complexity</li>
<li>shorter compilation time than libs like <a href="https://gitlab.com/libeigen/eigen">Eigen</a> or <a href="https://bitbucket.org/blaze-lib/blaze/src/master/">Blaze</a>.</li>
<li>a concise wrapping of libraries like <a href="https://github.com/xianyi/OpenBLAS">Blas</a>, <a href="https://github.com/flame/blis">Blis</a>, Lapacke, etc.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf7ddaf9" class="outline-2">
<h2 id="orgf7ddaf9"><span class="section-number-2">2</span> Examples</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgb278a5c" class="outline-3">
<h3 id="orgb278a5c"><span class="section-number-3">2.1</span> Vector construction</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org7d06568" class="outline-4">
<h4 id="org7d06568"><span class="section-number-4">2.1.1</span> Some extra "constructors"</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
As this contructions is only available for "storable" vectors and not
views they are defined using <code>functions</code> (and not usual constructors).
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/vector.hpp"</span>

<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">&lt;array&gt;</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">&lt;vector&gt;</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Construction of a dense vector using move(std::vector)</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">vector</span>&lt;<span style="color: #00688b;">int</span>&gt; <span style="color: #2e8b57;">data_1</span>(4, 1);

  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">v_1</span> = create_vector(<span style="color: #6e8b3d;">std</span>::move(data_1));

  assert(data_1.size() == 0);
  static_assert(<span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">is_same_v</span>&lt;<span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">int</span>&gt;, <span style="color: #1c86ee;">decltype</span>(v_1)&gt;);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; v_1 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

  <span style="color: #7f7f7f;">//</span><span style="color: #7f7f7f;">================</span>

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Construction of a Tiny_Vector from a std::array copy</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">array</span>&lt;<span style="color: #00688b;">int</span>, 4&gt; <span style="color: #2e8b57;">data_2</span>;
  <span style="color: #1c86ee;">for</span> (<span style="color: #1c86ee;">auto</span>&amp; <span style="color: #2e8b57;">data_2_i</span> : data_2) data_2_i = 2;

  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">v_2</span> = create_vector(data_2);

  static_assert(<span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">is_same_v</span>&lt;<span style="color: #00688b;">Tiny_Vector</span>&lt;<span style="color: #00688b;">int</span>, 4&gt;, <span style="color: #1c86ee;">decltype</span>(v_2)&gt;);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; v_2 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

  <span style="color: #7f7f7f;">//</span><span style="color: #7f7f7f;">================</span>

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Construction of a Tiny_Vector from a C array</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">v_3</span> = create_vector({3, 3, 3, 3});

  static_assert(<span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">is_same_v</span>&lt;<span style="color: #00688b;">Tiny_Vector</span>&lt;<span style="color: #00688b;">int</span>, 4&gt;, <span style="color: #1c86ee;">decltype</span>(v_3)&gt;);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; v_3 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
}
</pre>
</div>

<p>
prints:
</p>

<pre class="example">

1
1
1
1

2
2
2
2

3
3
3
3
</pre>
</div>
</div>
</div>

<div id="outline-container-org4187a60" class="outline-3">
<h3 id="org4187a60"><a id="ID-907674bf-2cae-4a34-8061-b5039240e93b"></a><span class="section-number-3">2.2</span> View from lower/upper bounds</h3>
<div class="outline-text-3" id="text-2-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;Fri May  8 2020 12:03&gt;</span></span> &lt;- <a href="#org2b27d05">lower/upper bound</a>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/vector.hpp"</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/utils/lower_upper_bound.hpp"</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #00688b;">double</span> <span style="color: #2e8b57;">data</span>[13] = {1, 1, 2, 3, 3, 3, 3, 4, 4, 4, 5, 5, 6};
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">X</span>          = create_vector_view(data, 13);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; X &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
  
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">X_3</span> = create_vector_view(X, lower_bound(X, 3), upper_bound(X, 3));

  X_3=10;

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; X &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
}
</pre>
</div>

<p>
prints:
</p>

<pre class="example">

1
1
2
3
3
3
3
4
4
4
5
5
6

1
1
2
10
10
10
10
4
4
4
5
5
6
</pre>
</div>
</div>

<div id="outline-container-org746856d" class="outline-3">
<h3 id="org746856d"><span class="section-number-3">2.3</span> Matrix views</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[BEGIN_matrix_view]</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/matrix.hpp"</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[DOC]</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Declares a *static* matrix of dimension $5\times 6$.</span>
  <span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 5, 6&gt; <span style="color: #2e8b57;">mat</span>;
  mat = 1;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[DOC]</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Create a sub-matrix [1:3,2:5] view and fills it with 1</span>
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">view_mat</span> = create_matrix_view(mat, 1, 3, 2, 5);
  view_mat      = -1;

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"full matrix 1:"</span> &lt;&lt; mat &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[DOC]</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">A static, symmetric matrix of dimension $6\times 6$.</span>
  <span style="color: #00688b;">Tiny_Symmetric_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 6&gt; <span style="color: #2e8b57;">mat_S</span>;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[DOC]</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Creates a *full* view and fills it with 0</span>
  create_matrix_view_full(mat_S) = 0;  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">fill the full matrix</span>

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[DOC]</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Here as =mat_S= is symmetric</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">only fills the lower triangular part...</span>
  <span style="color: #7f7f7f;">//</span>
  mat_S = 1;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Take a *symmetric* sub-matrix [1:3,1:3] view and fills it with -1</span>
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">view_mat_S</span> = create_matrix_view(mat_S, 1, 3, 1, 3);
  view_mat_S      = -1;

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"full matrix 2:"</span> &lt;&lt; create_matrix_view_full(mat_S) &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"submatrix   3:"</span> &lt;&lt; mat_S &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
}
<span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">[END_matrix_view]</span>
</pre>
</div>

<p>
prints:
</p>

<pre class="example">
full matrix 1:
               1               1               1               1               1               1
               1               1              -1              -1              -1               1
               1               1              -1              -1              -1               1
               1               1               1               1               1               1
               1               1               1               1               1               1
full matrix 2:
               1               0               0               0               0               0
               1              -1               0               0               0               0
               1              -1              -1               0               0               0
               1               1               1               1               0               0
               1               1               1               1               1               0
               1               1               1               1               1               1
submatrix   3:
               1               X               X               X               X               X
               1              -1               X               X               X               X
               1              -1              -1               X               X               X
               1               1               1               1               X               X
               1               1               1               1               1               X
               1               1               1               1               1               1
</pre>
</div>
</div>


<div id="outline-container-org6622706" class="outline-3">
<h3 id="org6622706"><span class="section-number-3">2.4</span> Creating your own matrix type specialization</h3>
<div class="outline-text-3" id="text-2-4">
<p>
You can define your own matrix type specialization:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/matrix.hpp"</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">T</span>&gt;
<span style="color: #1c86ee;">using</span> <span style="color: #00688b;">Matrix_nx2</span> =
    <span style="color: #00688b;">Default_Matrix</span>&lt;<span style="color: #00688b;">T</span>,
                   <span style="color: #6e8b3d;">Matrix_Special_Structure_Enum</span>::None,       <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Dense matrix</span>
                   <span style="color: #6e8b3d;">Matrix_Storage_Mask_Enum</span>::None,            <span style="color: #7f7f7f;">//</span>
                   <span style="color: #6e8b3d;">std</span>::size_t,                               <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Dynamic number of rows</span>
                   <span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">integral_constant</span>&lt;<span style="color: #6e8b3d;">std</span>::size_t, 2&gt;,    <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Static number of columns, here 2</span>
                   <span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">integral_constant</span>&lt;<span style="color: #6e8b3d;">std</span>::size_t, 10&gt;&gt;;  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Static leading dimension, here 10</span>

<span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">note: having a static leading dimension=10 allows to statically</span>
<span style="color: #7f7f7f;">//       </span><span style="color: #7f7f7f;">allocate matrix, but this also limits max row size to 10.</span>

static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Matrix_nx2</span>&lt;<span style="color: #00688b;">int</span>&gt;&gt;);
static_assert(<span style="color: #00688b;">Has_Static_J_Size_v</span>&lt;<span style="color: #00688b;">Matrix_nx2</span>&lt;<span style="color: #00688b;">int</span>&gt;&gt;);

static_assert(<span style="color: #00688b;">Has_Static_Capacity_v</span>&lt;<span style="color: #00688b;">Matrix_nx2</span>&lt;<span style="color: #00688b;">int</span>&gt;&gt;);
static_assert(Has_Static_Capacity_v&lt;<span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 2, 3&gt;&gt;);
static_assert(Has_Static_Capacity_v&lt;<span style="color: #00688b;">Tiny_Vector</span>&lt;<span style="color: #00688b;">int</span>, 2&gt;&gt;);

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Note:</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">1. M(5,3) would lead to run-time error in debug mode</span>
  <span style="color: #7f7f7f;">//    </span><span style="color: #7f7f7f;">Reason: request 3 columns, 2 expected</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">2. M(15, 2) would lead to run-time error in debug mode</span>
  <span style="color: #7f7f7f;">//    </span><span style="color: #7f7f7f;">Reason: number of rows &gt; statically defined leading dimension</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #00688b;">Matrix_nx2</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">M</span>(5, 2);
  M = 0;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Note: one can also write</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">"create_vector_view_matrix_row(M,2)=2;"</span>
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">row_2</span> = create_vector_view_matrix_row(M, 2);
  row_2      = 2;

  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">col_1</span> = create_vector_view_matrix_column(M, 1);
  col_1      = 1;

  static_assert(<span style="color: #00688b;">Has_Static_Dimension_v</span>&lt;<span style="color: #1c86ee;">decltype</span>(row_2)&gt;);
  static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_Dimension_v</span>&lt;<span style="color: #1c86ee;">decltype</span>(col_1)&gt;);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; M;

  <span style="color: #1c86ee;">return</span> 0;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org6600370" class="outline-3">
<h3 id="org6600370"><span class="section-number-3">2.5</span> <span class="todo TODO">TODO</span> Generic View</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Easier interfacing with non generic code (.cpp files etc&#x2026;).
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> add some examples</li>
</ul>
</div>
</div>

<div id="outline-container-org4610cd4" class="outline-3">
<h3 id="org4610cd4"><span class="section-number-3">2.6</span> Conjugate gradients</h3>
<div class="outline-text-3" id="text-2-6">
<p>
This is only for demo purpose as a real implementation makes more sense with sparse matrices + a preconditioner.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/matrix.hpp"</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/vector.hpp"</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Basic CG implementation</span>
<span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">https://en.wikipedia.org/wiki/Conjugate_gradient_method</span>
<span style="color: #7f7f7f;">//</span>
<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">A_IMPL</span>, <span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">X0_IMPL</span>, <span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">B_IMPL</span>&gt;
<span style="color: #00688b;">bool</span>
<span style="color: #cd9b1d;">cg</span>(<span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Matrix_Crtp</span>&lt;<span style="color: #00688b;">A_IMPL</span>&gt;&amp; <span style="color: #2e8b57;">A</span>, <span style="color: #00688b;">Dense_Vector_Crtp</span>&lt;<span style="color: #00688b;">X0_IMPL</span>&gt;&amp; <span style="color: #2e8b57;">X0</span>, <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Dense_Vector_Crtp</span>&lt;<span style="color: #00688b;">B_IMPL</span>&gt;&amp; <span style="color: #2e8b57;">b</span>)
{
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Sanity checks</span>
  <span style="color: #7f7f7f;">//</span>
  assert(all_sizes_are_equal_p(A.I_size(), A.J_size(), X0.size(), b.size()));
  static_assert(<span style="color: #00688b;">Is_Symmetric_Matrix_v</span>&lt;<span style="color: #00688b;">A_IMPL</span>&gt; <span style="color: #1c86ee;">or</span> <span style="color: #00688b;">Is_Hermitian_Matrix_v</span>&lt;<span style="color: #00688b;">A_IMPL</span>&gt;);

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Parameters</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">double</span> <span style="color: #2e8b57;">eps</span>         = 1e-6;
  <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">double</span> <span style="color: #2e8b57;">squared_eps</span> = eps * eps;
  <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">size_t</span> <span style="color: #2e8b57;">max_iter</span>    = 100;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Working vector type</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #1c86ee;">using</span> <span style="color: #00688b;">element_type</span> = <span style="color: #00688b;">Common_Element_Type_t</span>&lt;<span style="color: #00688b;">A_IMPL</span>, <span style="color: #00688b;">X0_IMPL</span>, <span style="color: #00688b;">B_IMPL</span>&gt;;

  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">r</span>  = similar(<span style="color: #00688b;">Type_v</span>&lt;<span style="color: #00688b;">element_type</span>&gt;, X0);
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">p</span>  = similar(r);
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">Ap</span> = similar(r);

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Initialization</span>
  <span style="color: #7f7f7f;">//</span>
  r = b - A * X0;

  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">squared_norm_r_old</span> = dot(r, r);

  <span style="color: #1c86ee;">if</span> (squared_norm_r_old &lt; squared_eps)
  {
    <span style="color: #1c86ee;">return</span> <span style="color: #6e8b3d;">true</span>;
  }

  p = r;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Main loop</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #1c86ee;">for</span> (<span style="color: #00688b;">size_t</span> <span style="color: #2e8b57;">i</span> = 0; i &lt; max_iter; i++)
  {
    Ap = A * p;

    <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">alpha</span> = squared_norm_r_old / dot(p, Ap);

    X0 = X0 + alpha * p;

    r = r - alpha * Ap;

    <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">squared_norm_r_new</span> = dot(r, r);

    <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"iter "</span> &lt;&lt; i &lt;&lt; <span style="color: #8b7355;">" residue "</span> &lt;&lt; squared_norm_r_new &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

    <span style="color: #1c86ee;">if</span> (squared_norm_r_new &lt; squared_eps)
    {
      <span style="color: #1c86ee;">return</span> <span style="color: #6e8b3d;">true</span>;
    }

    p = r + squared_norm_r_new / squared_norm_r_old * p;

    squared_norm_r_old = squared_norm_r_new;
  }
  <span style="color: #1c86ee;">return</span> <span style="color: #6e8b3d;">false</span>;
}

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #00688b;">Symmetric_Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">M</span>(10, 10);
  <span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">X0</span>(10);
  <span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">b</span>(10);

  M       = 1;
  M(6, 5) = 5; <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Note: in debug mode M(5, 6) = 2 would lead to an</span>
               <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">assert failure as by default symmetric matrices are</span>
               <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">stored into their lower part.</span>

  create_vector_view_matrix_diagonal(M) = 10;

  b  = 1;
  X0 = 0;

  <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">status</span> = cg(M, X0, b);

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; X0 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #6e8b3d;">std</span>::boolalpha &lt;&lt; status &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
}
</pre>
</div>

<p>
prints:
</p>

<pre class="example">
iter 0 residue 0.0652995
iter 1 residue 1.03037e-32

0.0543933
0.0543933
0.0543933
0.0543933
0.0543933
0.0376569
0.0376569
0.0543933
0.0543933
0.0543933
true
</pre>
</div>
</div>

<div id="outline-container-orga0cc5a5" class="outline-3">
<h3 id="orga0cc5a5"><span class="section-number-3">2.7</span> Direct call to Lapack</h3>
<div class="outline-text-3" id="text-2-7">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/lapack/lapack.hpp"</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/matrix.hpp"</span>
<span style="color: #cdad00;">#include</span> <span style="color: #8b7355;">"LinearAlgebra/vector.hpp"</span>

<span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

<span style="color: #00688b;">int</span>
<span style="color: #cd9b1d;">main</span>()
{
  <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">size_t</span> <span style="color: #2e8b57;">n</span> = 5;

  <span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">v</span>(n), <span style="color: #2e8b57;">w</span>(n);
  v = 1;

  <span style="color: #00688b;">Symmetric_Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">M</span>(n, n);

  M                                     = 0;
  create_vector_view_matrix_diagonal(M) = 10;
  M(4, 0)                               = 5;

  w = M * v;

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"symmetric M :"</span> &lt;&lt; M &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"v :"</span> &lt;&lt; v &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"w = M.v :"</span> &lt;&lt; w &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Low level call of lapack: L*L^t decomposition</span>
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #00688b;">int</span> <span style="color: #2e8b57;">info</span> = <span style="color: #6e8b3d;">Lapack</span>::potrf(M);
  assert(info == 0);

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Create a constant view defining L</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">(symmetric matrix uses lower part)</span>
  static_assert(<span style="color: #00688b;">Is_Lower_Matrix_Storage_v</span>&lt;<span style="color: #1c86ee;">decltype</span>(M)&gt;);
  <span style="color: #7f7f7f;">//</span>
  <span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">L</span> = create_matrix_view_lower_triangular(M.as_const());
  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"L :"</span> &lt;&lt; L &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;

  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">inplace solve of w = M.v = L.L^t.v ...</span>
  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">... at the end w "contains" v</span>
  <span style="color: #7f7f7f;">//</span>
  w = inverse(L) * w;             <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">L^(-1).w = L^t.v</span>
  w = inverse(transpose(L)) * w;  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">L^(-t).L^(-1).w = v</span>

  <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; <span style="color: #8b7355;">"v such that w=M.v :"</span> &lt;&lt; w &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
}
</pre>
</div>

<p>
prints:
</p>

<pre class="example">
symmetric M :
              10               X               X               X               X
               0              10               X               X               X
               0               0              10               X               X
               0               0               0              10               X
               5               0               0               0              10

v :
1
1
1
1
1

w = M.v :
15
10
10
10
15

L :
         3.16228               X               X               X               X
               0         3.16228               X               X               X
               0               0         3.16228               X               X
               0               0               0         3.16228               X
         1.58114               0               0               0         2.73861

v such that w=M.v :
1
1
1
1
1
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7d682a" class="outline-2">
<h2 id="orgb7d682a"><span class="section-number-2">3</span> Doc (Under construction)</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org1c19691" class="outline-3">
<h3 id="org1c19691"><span class="section-number-3">3.1</span> Types</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orgc62a4b4" class="outline-4">
<h4 id="orgc62a4b4"><span class="section-number-4">3.1.1</span> Matrix types</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
For the moment I only have defined <code>dense</code> matrices (BLAS compatible with column major order):
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #cdad00;"> #include</span> <span style="color: #8b7355;">"LinearAlgebra/dense/matrix.hpp"</span>
<span style="color: #cdad00;"> #include</span> <span style="color: #8b7355;">"LinearAlgebra/dense/vector.hpp"</span>

<span style="color: #cdad00;"> #include</span> <span style="color: #8b7355;">&lt;iostream&gt;</span>

 <span style="color: #1c86ee;">using</span> <span style="color: #1c86ee;">namespace</span> <span style="color: #6e8b3d;">LinearAlgebra</span>;

 <span style="color: #00688b;">int</span>
 <span style="color: #cd9b1d;">main</span>()
 {
   <span style="color: #00688b;">Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">M_1</span>(4, 5);

   <span style="color: #00688b;">Symmetric_Matrix</span>&lt;<span style="color: #00688b;">int</span>&gt; <span style="color: #2e8b57;">M_2</span>(4, 4);

   <span style="color: #00688b;">Tiny_Strict_Lower_Triangular_Matrix</span>&lt;<span style="color: #00688b;">float</span>, 4, 7&gt; <span style="color: #2e8b57;">M_3</span>;

   <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; M_1 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
   <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; M_2 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
   <span style="color: #6e8b3d;">std</span>::cout &lt;&lt; M_3 &lt;&lt; <span style="color: #6e8b3d;">std</span>::endl;
 }
</pre>
</div>

<p>
prints
</p>

<pre class="example">

		0               0               0               0               0
		0               0               0               0               0
		0               0               0               0               0
		0               0               0               0               0

		0               X               X               X
		0               0               X               X
		0               0               0               X
		0               0               0               0

		X               X               X               X               X               X               X
		0               X               X               X               X               X               X
		0               0               X               X               X               X               X
		0               0    -6.63669e-18               X               X               X               X
</pre>

<p>
The generic definition for these matrix types is:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #1c86ee;">template</span> &lt;T,                  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">is the component type</span>
          SPECIAL_STRUCTURE,  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">is in {None, Symmetric, Hermitian, Triangular,</span>
                              <span style="color: #7f7f7f;">//        </span><span style="color: #7f7f7f;">Unit_Triangular, Triangular_Strict}</span>
          MASK,               <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">is in {None, Upper, Upper_Strict, Lower, Lower_Strict }</span>
          N_TYPE,             <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">std::size_t or a std::integral_constant&lt;std::size_t,N&gt;</span>
          M_TYPE,             <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">std::size_t or a std::integral_constant&lt;std::size_t,M&gt;</span>
          LEADING_DIMENSION   <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">std::size_t or a std::integral_constant&lt;std::size_t,LD&gt;</span>
          &gt;                   <span style="color: #7f7f7f;">//</span>
<span style="color: #1c86ee;">class</span> <span style="color: #00688b;">Default_Matrix</span>;         <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">or {Default_Matrix_View, Default_Matrix_Const_View}</span>
</pre>
</div>

<p>
There are some alias covering the usual cases:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Dynamic</th>
<th scope="col" class="org-left">Static</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Symmetric_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Symmetric_Matrix&lt;T, SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Hermitian_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Hermitian_Matrix&lt;T, SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Lower_Triangular_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Lower_Triangular_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Upper_Triangular_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Upper_Triangular_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Lower_Triangular_Strict_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Lower_Triangular_Strict_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Upper_Triangular_Strict_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Upper_Triangular_Strict_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Lower_Unit_Triangular_Matrix&lt;T&gt; M(I_size, J_size);</td>
<td class="org-left">Tiny_Lower_Unit_Triangular_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>

<tr>
<td class="org-left">Upper_Unit_Triangular_Matrix&lt;T&gt; MI_size, J_size);</td>
<td class="org-left">Tiny_Upper_Unit_Triangular_Matrix&lt;T, I_SIZE, J_SIZE&gt; M;</td>
</tr>
</tbody>
</table>


<p>
Please note that by default Symmetric/Hermitian matrices are stored in their <b>Lower</b> part.
</p>

<p>
For each case you can also use <b>views</b>, there are two types of view:
mutable one and constant one. For instance:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #00688b;">Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">M</span>(10, 5);

<span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">view</span> = view_as_lower_triangular_strict(M.as_const());
</pre>
</div>

<p>
will return a constant view (a lightweight matrix where only pointers
are stored and not owned).
</p>
</div>
</div>
</div>

<div id="outline-container-org14574a9" class="outline-3">
<h3 id="org14574a9"><span class="section-number-3">3.2</span> Meta-Programming</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orgc3077af" class="outline-4">
<h4 id="orgc3077af"><span class="section-number-4">3.2.1</span> Some size utils</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
<b>File</b>: <a href="src/LinearAlgebra/utils/size_utils.hpp">file:LinearAlgebra/utils/size_utils.hpp</a>
</p>

<ul class="org-ul">
<li><p>
<code>Has_Static_Capacity_v:</code> check if capacity is static or not (a static
capacity means that the object can be created without dynamic memory
allocation)
</p>
<div class="org-src-container">
<pre class="src src-cpp">static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_Capacity_v</span>&lt;<span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt;&gt;);
static_assert(Has_Static_Capacity_v&lt;<span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 3, 4&gt;&gt;);
</pre>
</div></li>

<li><p>
<code>Has_Static_Size_v:</code> check if a vector has a static size
</p>
<div class="org-src-container">
<pre class="src src-cpp">static_assert(<span style="color: #00688b;">Has_Static_Size_v</span>&lt;<span style="color: #00688b;">Tiny_Vector</span>&lt;<span style="color: #00688b;">double</span>, 3&gt;&gt;);
static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_Size_v</span>&lt;<span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt;&gt;);

static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_Size_v</span>&lt;<span style="color: #00688b;">Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt;&gt;);  <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">safely</span>
                                                       <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">returns</span>
                                                       <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">false, even</span>
                                                       <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">if not a</span>
                                                       <span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">vector type</span>
</pre>
</div></li>

<li><p>
<code>Any_Has_Static_Size_v:</code> check if any vector has a static size
</p>
<div class="org-src-container">
<pre class="src src-cpp"> static_assert(<span style="color: #00688b;">Any_Has_Static_Size_v</span>&lt;<span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt;, <span style="color: #00688b;">Tiny_Vector</span>&lt;<span style="color: #00688b;">double</span>, 3&gt;&gt;);
</pre>
</div></li>

<li><p>
<code>Has_Static_I_Size_v:</code> check if a matrix has a static <code>I_size</code> (number of rows):
</p>
<div class="org-src-container">
<pre class="src src-cpp">  static_assert(<span style="color: #00688b;">Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 3, 4&gt;&gt;);
  static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Matrix</span>&lt;<span style="color: #00688b;">int</span>&gt;&gt;);
</pre>
</div></li>

<li><p>
<code>Has_Static_I_Size_v:</code> check if a matrix has a static <code>I_size</code> (number of rows):
</p>
<div class="org-src-container">
<pre class="src src-cpp">  static_assert(<span style="color: #00688b;">Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 3, 4&gt;&gt;);
  static_assert(<span style="color: #1c86ee;">not</span> <span style="color: #00688b;">Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Matrix</span>&lt;<span style="color: #00688b;">int</span>&gt;&gt;);
</pre>
</div></li>

<li><p>
<code>Any_Static_I_Size_v:</code> check if any matrix has a static <code>I_size</code> (number of rows):
</p>
<div class="org-src-container">
<pre class="src src-cpp">static_assert(<span style="color: #00688b;">Any_Has_Static_I_Size_v</span>&lt;<span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">int</span>&gt;, <span style="color: #00688b;">Tiny_Matrix</span>&lt;<span style="color: #00688b;">int</span>, 3, 4&gt;&gt;);
</pre>
</div></li>

<li><code>Has_Static_J_Size_v:</code> same than <code>I_size</code> but for columns</li>
<li><code>Any_Static_J_Size_v:</code> same than <code>I_size</code> but for columns</li>
</ul>


<p>
TODO: move to function with links:
</p>

<p>
Two functions, declared as <code>constexpr</code>:
</p>
<ul class="org-ul">
<li><p>
<code>get_static_size_if_any(...)</code> that returns a static size if any. 
</p>

<p>
CAVEAT: it does not check if all sizes are equal!
</p></li>

<li><code>all_sizes_are_equal_p(...)</code> check that all sizes are equal</li>
</ul>
</div>
</div>

<div id="outline-container-org954ade9" class="outline-4">
<h4 id="org954ade9"><span class="section-number-4">3.2.2</span> Some generic matrix type predicates</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
<b>File:</b> <a href="src/LinearAlgebra/utils/sfinae_vmt_helpers.hpp">LinearAlgebra/utils/sfinae_vmt_helpers.hpp</a>
</p>

<p>
<b>Note</b>: these predicates will also work for sparse matrices (they are
      not restricted to dense one).
</p>

<p>
Checks if the matrix is defined by its lower or upper part:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Upper_Matrix_Storage_v</span> = <span style="color: #6e8b3d;">Is_Upper_Matrix_Storage</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Upper_Strict_Matrix_Storage_v</span> = <span style="color: #6e8b3d;">Is_Upper_Strict_Matrix_Storage</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Lower_Matrix_Storage_v</span> = <span style="color: #6e8b3d;">Is_Lower_Matrix_Storage</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Lower_Strict_Matrix_Storage_v</span> = <span style="color: #6e8b3d;">Is_Lower_Strict_Matrix_Storage</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;
</pre>
</div>


<p>
Checks for special structure:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Full_Matrix_v</span> = <span style="color: #6e8b3d;">Is_Full_Matrix</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Symmetric_Matrix_v</span> = <span style="color: #6e8b3d;">Is_Symmetric_Matrix</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Hermitian_Matrix_v</span> = <span style="color: #6e8b3d;">Is_Hermitian_Matrix</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Triangular_Matrix_v</span> = <span style="color: #6e8b3d;">Is_Triangular_Matrix</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;

<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">MATRIX</span>&gt;
<span style="color: #1c86ee;">constexpr</span> <span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">Is_Unit_Triangular_Matrix_v</span> = <span style="color: #6e8b3d;">Is_Unit_Triangular_Matrix</span>&lt;<span style="color: #00688b;">MATRIX</span>&gt;::value;
</pre>
</div>

<p>
<b>Usage example:</b>
</p>

<div class="org-src-container">
<pre class="src src-cpp">static_assert(<span style="color: #00688b;">Is_Symmetric_Matrix_v</span>&lt;<span style="color: #00688b;">Symmetric_Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt;&gt;);
static_assert(<span style="color: #00688b;">Is_Lower_Matrix_Storage_v</span>&lt;<span style="color: #00688b;">Symmetric_Matrix</span>&lt;<span style="color: #00688b;">double</span>&gt;&gt;);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1d5d887" class="outline-3">
<h3 id="org1d5d887"><span class="section-number-3">3.3</span> Functions</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org7c36b46" class="outline-4">
<h4 id="org7c36b46"><a id="ID-7207062d-f90b-4646-a5f0-dd692083176f"></a><span class="section-number-4">3.3.1</span> Aliasing</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;Sat Apr 25 2020 16:39&gt;</span></span> &lt;- <a href="#org381e2a6">Same mathematical object</a>
</p>

<p>
Test if two objects are aliased or not.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">status</span> = are_not_aliased_p(vector0, matrix1)
</pre>
</div>

<p>
<b>Note:</b> it is easy/fast to check if two objects are <b>not</b> aliased (memory
blocks don't overlap). It can be more tricky (with all the possible
memory increments/strides) to check if two objects are aliased. That's
the reason why we also have this function:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">status</span> = are_maybe_aliased_p(vector0, matrix1)
</pre>
</div>

<p>
Also see: <a href="#org381e2a6">Same mathematical object</a>
</p>
</div>
</div>

<div id="outline-container-org381e2a6" class="outline-4">
<h4 id="org381e2a6"><a id="ID-4a5f5853-bb5d-4935-abd0-3996a3d62a4e"></a><span class="section-number-4">3.3.2</span> Same mathematical object</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
A predicate that checks if two objects represent <b>exactly</b> the same
"mathematical" object. By exactly we mean:
</p>
<ul class="org-ul">
<li>same memory</li>
<li>same dimension</li>
</ul>

<p>
This is possible, think to a matrix and its view.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #00688b;">bool</span> <span style="color: #2e8b57;">status</span> = same_mathematical_object_p(matrix_1,matrix_2);
</pre>
</div>

<p>
<b>Note:</b> according to the definition, two identical mathematical objects
are trivially <a href="#org7c36b46">Aliased</a>.
</p>
</div>
</div>

<div id="outline-container-orga1d6344" class="outline-4">
<h4 id="orga1d6344"><a id="ID-5afec5bb-bd6c-4173-b513-3b49cef5005a"></a><span class="section-number-4">3.3.3</span> Similar</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;Fri Apr 24 2020 12:50&gt;</span></span> &lt;- <a href="#orgcc6bb79">Copy</a>
</p>

<p>
Create an <b>uninitialized</b> object of the same type and same dimension:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">u</span> = similar(v);
</pre>
</div>

<p>
a variant is to change type:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #00688b;">Vector</span>&lt;<span style="color: #00688b;">double</span>&gt; <span style="color: #2e8b57;">v</span>;
<span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">int_u</span> = similar(<span style="color: #00688b;">Type_v</span>&lt;<span style="color: #00688b;">int</span>&gt;,v);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc6bb79" class="outline-4">
<h4 id="orgcc6bb79"><a id="ID-07b3fa16-4842-4bf2-9893-7d6626813c9b"></a><span class="section-number-4">3.3.4</span> Copy</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>
Like <a href="#orga1d6344">Similar</a> but also performs a copy of the element
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">u</span> = copy(v);
<span style="color: #1c86ee;">auto</span> <span style="color: #2e8b57;">int_u</span> = copy(<span style="color: #00688b;">Type_v</span>&lt;<span style="color: #00688b;">int</span>&gt;,v);
</pre>
</div>
</div>
</div>

<div id="outline-container-org2b27d05" class="outline-4">
<h4 id="org2b27d05"><a id="ID-3ba0b7cf-95c2-436e-a90c-11e751898497"></a><span class="section-number-4">3.3.5</span> lower/upper bound</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
These functions mimic <code>std::lower_bound</code>, <code>std::upper_bound</code> but work with indices.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Returns the first index *idx* such "value &lt;= x[idx]"</span>
<span style="color: #7f7f7f;">//         </span><span style="color: #7f7f7f;">or X.size() if such element index does not exist</span>
<span style="color: #7f7f7f;">//</span>
<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">IMPL</span>&gt;
<span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">size_t</span>
<span style="color: #cd9b1d;">lower_bound</span>(<span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Dense_Vector_Crtp</span>&lt;<span style="color: #00688b;">IMPL</span>&gt;&amp; <span style="color: #2e8b57;">X</span>, <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Element_Type_t</span>&lt;<span style="color: #00688b;">IMPL</span>&gt;&amp; <span style="color: #2e8b57;">value</span>);

<span style="color: #7f7f7f;">// </span><span style="color: #7f7f7f;">Returns the first index *idx* such "value &lt; x[idx]"</span>
<span style="color: #7f7f7f;">//         </span><span style="color: #7f7f7f;">or X.size() if such element index does not exist</span>
<span style="color: #7f7f7f;">//</span>
<span style="color: #1c86ee;">template</span> &lt;<span style="color: #1c86ee;">typename</span> <span style="color: #00688b;">IMPL</span>&gt;
<span style="color: #6e8b3d;">std</span>::<span style="color: #00688b;">size_t</span>
<span style="color: #cd9b1d;">upper_bound</span>(<span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Dense_Vector_Crtp</span>&lt;<span style="color: #00688b;">IMPL</span>&gt;&amp; <span style="color: #2e8b57;">X</span>, <span style="color: #1c86ee;">const</span> <span style="color: #00688b;">Element_Type_t</span>&lt;<span style="color: #00688b;">IMPL</span>&gt;&amp; <span style="color: #2e8b57;">value</span>);
</pre>
</div>

<p>
They can be used to create view, see <a href="#org4187a60">View from lower/upper bounds</a>
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-org5c310ea" class="outline-2">
<h2 id="org5c310ea"><span class="section-number-2">4</span> FAQ</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org4be03e6" class="outline-3">
<h3 id="org4be03e6"><span class="section-number-3">4.1</span> Resizable vector/matrix ?</h3>
<div class="outline-text-3" id="text-4-1">
<p>
In general vectors or matrices <b>cannot be resized</b>. 
</p>

<p>
This avoids introducing an asymmetry in the code between dynamic &amp;
static size objects. This asymmetry would have come with some extra
complications both for the developer and the user who want to
implement some generic routines.
</p>
</div>
</div>

<div id="outline-container-org0b6c96b" class="outline-3">
<h3 id="org0b6c96b"><span class="section-number-3">4.2</span> Expression Template</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Only a reduced number of expressions are supported (TODO: list
them!). 
</p>

<p>
By example you can write
</p>
<div class="org-src-container">
<pre class="src src-cpp">V=2*transpose(M)*U+2*V
</pre>
</div>
<p>
as this expression can be directly mapped to a Blas subroutine.
</p>

<p>
However, you cannot write, in full generality, things like:
</p>
<div class="org-src-container">
<pre class="src src-cpp">V=2*transpose(M)*M**M*U+2*V
</pre>
</div>

<p>
Please note that, all in all, this constraint has some positive side
effects as it reduces the "chance" of introducing hidden temporary
creations.
</p>

<p>
Also note that beside Expression Template you can call available
expressions using reverse polish notation, by example
</p>

<div class="org-src-container">
<pre class="src src-cpp">V = 2 * transpose(M) * U + 3 * V
</pre>
</div>

<p>
can be computed by calling:
</p>
<div class="org-src-container">
<pre class="src src-cpp">assign(V, _plus_, _product_, _product_, 2, _transpose_, M, U, _product_, 3, _lhs_);
</pre>
</div>
</div>
</div>


<div id="outline-container-orgea6fa12" class="outline-3">
<h3 id="orgea6fa12"><span class="section-number-3">4.3</span> Tiny objects &amp; intrinsics</h3>
<div class="outline-text-3" id="text-4-3">
<p>
For the moment I have not introduced all the machinery that "manually"
generates simd code.  This would have required a lot to be introduced,
like cpu dependent simd definitions, <code>aligned</code> or <code>packed</code> template
parameters etc&#x2026; Really not my priority for the moment&#x2026; Some other
libs do a great job here.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: picaud</p>
<p class="date">Created: 2020-07-17 Fri 08:04</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
